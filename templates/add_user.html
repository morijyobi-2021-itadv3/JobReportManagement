{% extends "template.html" %} 

{% block css %}
<link rel="stylesheet" href="../static/css/add_user.css">
{% endblock %}

{% block script %}
<script src="../static/js/add_user.js" type="text/javascript"></script>
{% endblock %}

{% block content %}
<div class="add-user-container">
  <h1 class="title">ユーザー追加画面</h1>
  <form action="{{url_for('teacher.add_user')}}" class="form add-user" method="post" enctype="multipart/form-data">
    <div class="form-title">ユーザータイプ</div>
    <div class="radio-wrapper">
      <input type="radio" name="user-type" id="student" value="学生" checked><label for="student">学生</label>
    </div>
    <div class="radio-wrapper">
      <input type="radio" name="user-type" id="teacher" value="教員" ><label for="teacher">教員</label>
    </div>
    <div class="radio-wrapper">
      <input type="radio" name="user-type" id="employement-helper" value="就職課" ><label for="employement-helper">就職課</label>
    </div>

    <div class="form-title">学科・コース</div>
    <select name="department" id="department-selector">
      <option value="学科・コースを選択" selected>学科・コースを選択</option>
      {% for department in departments %}
        <option value="{{department[1]}}">{{department[1]}}</option>
      {% endfor %}
    </select>
    <p class="note">ファイルを選択する場合は学科・コースを選択してください</p>
    <label for="file-input" class="file-input-label">
      <input type="file" accept="text/csv" id="file-input" name="csv" disabled="true">ファイルを選択
    </label>
    <div class="download-group">
      <p class="note">CSVダウンロードはこちらから</p>
      <a href="/static/csv/students_template.csv" download="students.csv"><span class="btn download">学生用CSV</span></a>
      <a href="/static/csv/teachers_template.csv" download="teachers.csv"><span class="btn download">教員・就職課用CSV</span></a>
    </div>
    <button type="submit" class="btn submit" disabled>ユーザを追加する</button>
  </form>

  {% if error_list | length > 0 %}
  <div class="table-caption color-red">以下のユーザは追加できませんでした</div>
  <table class="error-table">
    <thead>
      <tr>
        <th>名前</th>
        <th>メールアドレス</th>
      </tr>
    </thead>
    <tbody>
  {% for error_data in error_list %}
    <tr>
      <td>{{ error_data['name'] }}</td>
      <td>{{ error_data['mail'] }}</td>
    </tr>
  {% endfor %}
    </tbody>
  </table>
{% endif %}

  <table class="add-user-table">
    <caption class="table-caption">プレビュー</caption>
    <thead>
      <tr></tr>
    </thead>
    <tbody></tbody>
  </table>
  
</div>

{% endblock %}
